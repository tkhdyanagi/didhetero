<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Uniform Inference for Summary Parameters that aggregate CATTs — aggte_continuous • didhetero</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Uniform Inference for Summary Parameters that aggregate CATTs — aggte_continuous"><meta name="description" content="`aggte_continuous` computes doubly robust estimates and uniform confidence
bands for summary parameters that aggregate group-time conditional
average treatment effects (CATT) given a continuous pre-treatment covariate
in the staggered difference-in-differences setup of
Callaway and Sant'Anna (2021) for balanced panel data.
See Imai, Qin, and Yanagi (2025) for more details."><meta property="og:description" content="`aggte_continuous` computes doubly robust estimates and uniform confidence
bands for summary parameters that aggregate group-time conditional
average treatment effects (CATT) given a continuous pre-treatment covariate
in the staggered difference-in-differences setup of
Callaway and Sant'Anna (2021) for balanced panel data.
See Imai, Qin, and Yanagi (2025) for more details."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">didhetero</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/didhetero.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/overview.html">Overview of the didhetero Methods</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Uniform Inference for Summary Parameters that aggregate CATTs</h1>

      <div class="d-none name"><code>aggte_continuous.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>`aggte_continuous` computes doubly robust estimates and uniform confidence
bands for summary parameters that aggregate group-time conditional
average treatment effects (CATT) given a continuous pre-treatment covariate
in the staggered difference-in-differences setup of
Callaway and Sant'Anna (2021) for balanced panel data.
See Imai, Qin, and Yanagi (2025) for more details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">aggte_continuous</span><span class="op">(</span></span>
<span>  <span class="va">output</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"dynamic"</span>,</span>
<span>  eval <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bstrap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  biters <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  porder <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  bwselect <span class="op">=</span> <span class="st">"IMSE1"</span>,</span>
<span>  bw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  uniformall <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>The output of the `catt_gt_continuous` function.
In doing so, several arguments and the uniform inference results for CATT from
the `catt_gt_continuous` function can be used in this function.
In particular, the following are passed down from output:
xformla, zeval, pretrend, control_group, anticipation, alp, and kernel.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Which type of the summary parameter is of interest.
Options are "simple", "dynamic", "group", and "calendar".
Default is "dynamic".</p></dd>


<dt id="arg-eval">eval<a class="anchor" aria-label="anchor" href="#arg-eval"></a></dt>
<dd><p>The vector of the evaluation point specific to the chosen summary parameter.
If type is set to "dynamic", it is the evaluation point e.
If type is set to "group", it is the evaluation point g'.
If type is set to "calendar", it is the evaluation point t'.
If type is set to "simple", there is no evaluation point specific to this summary parameter, and eval should be `NULL`.
Default is `NULL` and eval is constructed automatically.</p></dd>


<dt id="arg-bstrap">bstrap<a class="anchor" aria-label="anchor" href="#arg-bstrap"></a></dt>
<dd><p>Boolean for whether or not to perform multiplier bootstrapping.
Default is `TRUE`.
If bstrap is `FALSE`, only the analytical critical value is used.</p></dd>


<dt id="arg-biters">biters<a class="anchor" aria-label="anchor" href="#arg-biters"></a></dt>
<dd><p>The number of bootstrap iterations.
This parameter is only applicable if `bstrap = TRUE`.
Default is 1000.</p></dd>


<dt id="arg-porder">porder<a class="anchor" aria-label="anchor" href="#arg-porder"></a></dt>
<dd><p>The polynomial order used for the second- and third-stage estimation.
Options are 1 and 2,
which correspond to the local linear and quadratic regressions, respectively.
Default is 2.</p></dd>


<dt id="arg-bwselect">bwselect<a class="anchor" aria-label="anchor" href="#arg-bwselect"></a></dt>
<dd><p>The bandwidth selection method used for the aggregation.
Options are "IMSE1", "IMSE2", "US1", and "manual".
"IMSE1" and "IMSE2" mean the IMSE-optimal bandwidths for the local linear and quadratic regressions, respectively.
"US1" means the rule-of-thumb undersmoothing for the local linear regression.
"manual" means the manual selection and bw should be specified in this case.
Default is "IMSE1", which is recommended for use with `porder = 2`.</p></dd>


<dt id="arg-bw">bw<a class="anchor" aria-label="anchor" href="#arg-bw"></a></dt>
<dd><p>The bandwidth used for the aggregation.
Default is `NULL` and the bandwidth is chosen automatically.
This parameter is only applicable if bwselect is "manual", and
should be a scalar or a vector whose length equals to the number of rows of eval.</p></dd>


<dt id="arg-uniformall">uniformall<a class="anchor" aria-label="anchor" href="#arg-uniformall"></a></dt>
<dd><p>Boolean for whether or not to perform the uniform inference over both eval and z.
Default is `TRUE` and the uniform inference over eval and z is performed.
If `FALSE`, the uniform inference only over z is performed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list that contains the following elements.</p>
<dl><dt>Estimate</dt>
<dd><p>A data.frame that contains the following elements. <br>
eval: The evaluation point specific to the chosen summary parameter. <br>
z: The covariate value. <br>
est: The doubly robust estimate of the chosen summary parameter. <br>
se: The standard error. <br>
ci1_lower: The lower bound of the analytical UCB. <br>
ci1_upper: The upper bound of the analytical UCB. <br>
ci2_lower: The lower bound of the bootstrap UCB. <br>
ci2_upper: The upper bound of the bootstrap UCB. <br>
bw: The bandwidth.</p></dd>

<dt>Figure1</dt>
<dd><p>A list that contains the ggplot elements for the analytical UCB</p></dd>

<dt>Figure2</dt>
<dd><p>A list that contains the ggplot elements for the bootstrap UCB</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Callaway, B., &amp; Sant’Anna, P. H. (2021).
Difference-in-differences with multiple time periods.
Journal of Econometrics, 225(2), 200-230.</p>
<p>Imai, S., Qin, L., &amp; Yanagi, T. (2025).
Doubly robust uniform confidence bands
for group-time conditional average treatment effects
in difference-in-differences.
arXiv preprint arXiv:2305.02185.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="datageneration.html">datageneration</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>  tau <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  continuous <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">output1</span> <span class="op">&lt;-</span> <span class="fu"><a href="catt_gt_continuous.html">catt_gt_continuous</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  yname <span class="op">=</span> <span class="st">"Y"</span>,</span></span>
<span class="r-in"><span>  tname <span class="op">=</span> <span class="st">"period"</span>,</span></span>
<span class="r-in"><span>  idname <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>  gname <span class="op">=</span> <span class="st">"G"</span>,</span></span>
<span class="r-in"><span>  zname <span class="op">=</span> <span class="st">"Z"</span>,</span></span>
<span class="r-in"><span>  xformla <span class="op">=</span> <span class="op">~</span> <span class="va">Z</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>  zeval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  gteval <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  pretrend <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  control_group <span class="op">=</span> <span class="st">"notyettreated"</span>,</span></span>
<span class="r-in"><span>  anticipation <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  alp <span class="op">=</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>  bstrap <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  biters <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>  porder <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  kernel <span class="op">=</span> <span class="st">"gau"</span>,</span></span>
<span class="r-in"><span>  bwselect <span class="op">=</span> <span class="st">"IMSE1"</span>,</span></span>
<span class="r-in"><span>  bw <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  uniformall <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">output2</span> <span class="op">&lt;-</span> <span class="fu">aggte_continuous</span><span class="op">(</span></span></span>
<span class="r-in"><span>  output <span class="op">=</span> <span class="va">output1</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"dynamic"</span>,</span></span>
<span class="r-in"><span>  eval <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  bstrap <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  biters <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>  porder <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  bwselect <span class="op">=</span> <span class="st">"IMSE1"</span>,</span></span>
<span class="r-in"><span>  bw <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  uniformall <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shunsuke Imai, Lei Qin, Takahide Yanagi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

